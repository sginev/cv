import loadPageContent from '@/utils/loadPageContent';
import Head from 'next/head';

import { TheFooter } from '../components/TheFooter';
import { TheMain } from '../components/TheMain';
import { TheSidebar } from '../components/TheSidebar';

type IndexProps = Awaited<ReturnType<typeof getStaticProps>>['props'];

export default function Index(props: IndexProps) {
  return (
    <>
      <Head>
        <title>Stefan Ginev â€” CV</title>
        <meta name='description' content='Generated by create next app' />
        <meta name='viewport' content='width=device-width, initial-scale=1' />
        <link rel='icon' href='/favicon.ico' />
      </Head>

      <main className='wrapper'>
        <TheSidebar {...props} />
        <TheMain {...props} />
      </main>

      <TheFooter />
    </>
  );
}

export async function getStaticProps() {
  return { props: await loadPageContent() };
}
